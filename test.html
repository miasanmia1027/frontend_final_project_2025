<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>미니홈피 - 전공 노트 관리</title>
    <!-- 기존 스타일시트 -->
    <link rel="stylesheet" href="css/note_page/style.css">
    <!-- 사이월드 스타일시트 추가 -->
    <link rel="stylesheet" href="css/cyworld/cyworld-style.css">
    <!-- D3.js 라이브러리 -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <!-- 폰트 어썸 아이콘 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="cyworld-body">
    <div class="cy-wrapper">
        <div class="cy-container">
            <!-- 미니홈피 헤더 -->
            <div class="cy-header">
                <div class="cy-header-today">
                    <span>TODAY <strong>9</strong> | TOTAL <strong>1,234</strong></span>
                </div>
                <div class="cy-profile">
                    <div class="cy-profile-photo">
                        <img src="img/cyworld/avatar.jpg" alt="프로필 사진">
                    </div>
                    <div class="cy-profile-info">
                        <h2>안동건님의 미니홈피</h2>
                        <p>공부할 때, 전공노트 정리는 역시 사이월드~</p>
                    </div>
                </div>
                <div class="cy-bgm-player">
                    <div class="cy-bgm-info">
                        <span>BGM</span>
                        <marquee>♪ 별이 빛나는 밤에 - 공부할 때 듣기 좋은 음악 ♪</marquee>
                    </div>
                    <div class="cy-bgm-controls">
                        <button id="cy-bgm-play"><i class="fa fa-play"></i></button>
                        <button id="cy-bgm-stop"><i class="fa fa-stop"></i></button>
                    </div>
                </div>
            </div>
            
            <!-- 미니홈피 본문 -->
            <div class="cy-content">
                <!-- 왼쪽 메뉴 -->
                <div class="cy-left-area">
                    <div class="cy-miniroom">
                        <h3>MINIROOM</h3>
                        <div class="cy-miniroom-content">
                            <img src="img/cyworld/miniroom.jpg" alt="미니룸">
                        </div>
                    </div>
                    
                    <div class="cy-menu">
                        <h3>MENU</h3>
                        <ul>
                            <li><a href="#" class="active"><i class="fa fa-home"></i> 홈</a></li>
                            <li><a href="#" id="cy-menu-notes"><i class="fa fa-book"></i> 전공노트</a></li>
                            <li><a href="#" id="cy-menu-graph"><i class="fa fa-project-diagram"></i> 그래프</a></li>
                            <li><a href="#" id="cy-menu-add-subject"><i class="fa fa-graduation-cap"></i> 전공추가</a></li>
                            <li><a href="#" id="cy-menu-add-file"><i class="fa fa-file-upload"></i> 파일추가</a></li>
                        </ul>
                    </div>
                    
                    <div class="cy-friends">
                        <h3>일촌</h3>
                        <ul>
                            <li><span class="cy-friend-status online"></span> <span class="cy-best-friend">♥</span> 수학친구</li>
                            <li><span class="cy-friend-status online"></span> 물리학친구</li>
                            <li><span class="cy-friend-status"></span> 화학친구</li>
                            <li><span class="cy-friend-status"></span> 컴공친구</li>
                        </ul>
                    </div>
                </div>
                
                <!-- 오른쪽 컨텐츠 -->
                <div class="cy-right-area">
                    <div class="cy-right-header">
                        <div class="cy-search-box">
                            <input type="text" id="search-input" placeholder="파일 또는 전공 검색">
                            <button id="search-btn"><i class="fa fa-search"></i></button>
                        </div>
                        <div class="cy-view-toggle">
                            <button id="list-view-btn" class="cy-btn active">리스트 뷰</button>
                            <button id="graph-view-btn" class="cy-btn">그래프 뷰</button>
                        </div>
                    </div>
                    
                    <!-- 기존의 노트 관리 리스트 뷰 -->
                    <div class="cy-main-content">
                        <div class="container list-container" id="list-container">
                            <aside class="sidebar">
                                <ul class="tree-menu cy-tree-menu" id="subjects-tree">
                                    <!-- 전공 트리 메뉴 여기에 추가됨 -->
                                </ul>
                            </aside>

                            <main class="content">
                                <div class="content-header">
                                    <h2 class="content-title">
                                        <span class="content-title-color" id="current-color"></span>
                                        <span id="current-title">모든 파일</span>
                                    </h2>
                                    <div class="action-buttons">
                                        <button id="add-file-btn" class="cy-btn">파일 추가</button>
                                        <button id="add-subject-btn" class="cy-btn">전공 추가</button>
                                    </div>
                                </div>

                                <div class="files-grid" id="files-grid">
                                    <!-- 파일 카드들이 여기에 표시됨 -->
                                </div>
                            </main>
                        </div>

                        <!-- 그래프 뷰 컨테이너 -->
                        <div class="container graph-container" id="graph-container">
                            <div class="graph-controls">
                                <button id="zoom-in" class="cy-btn"><i class="fa fa-plus"></i></button>
                                <button id="zoom-out" class="cy-btn"><i class="fa fa-minus"></i></button>
                                <button id="reset-view" class="cy-btn">Reset</button>
                            </div>
                            <div id="graph-view"></div>
                        </div>
                    </div>
                    
                    <!-- 방명록 -->
                    <div class="cy-guestbook">
                        <h3><i class="fa fa-comment"></i> 방명록</h3>
                        <div class="cy-guestbook-entries">
                            <div class="cy-guestbook-entry">
                                <div class="cy-guestbook-profile">
                                    <img src="img/cyworld/friend1.jpg" alt="친구 사진">
                                </div>
                                <div class="cy-guestbook-content">
                                    <div class="cy-guestbook-info">
                                        <span class="cy-guestbook-name">수학친구</span>
                                        <span class="cy-guestbook-date">2023.05.28</span>
                                    </div>
                                    <p>선형대수 노트 잘 정리했네~ 나중에 같이 스터디하자!</p>
                                </div>
                            </div>
                            <div class="cy-guestbook-entry">
                                <div class="cy-guestbook-profile">
                                    <img src="img/cyworld/friend2.jpg" alt="친구 사진">
                                </div>
                                <div class="cy-guestbook-content">
                                    <div class="cy-guestbook-info">
                                        <span class="cy-guestbook-name">물리학친구</span>
                                        <span class="cy-guestbook-date">2023.05.25</span>
                                    </div>
                                    <p>역학 부분 정리 좀 공유해줘~ 그래프 기능 멋진데?</p>
                                </div>
                            </div>
                        </div>
                        <div class="cy-guestbook-form">
                            <textarea placeholder="방명록을 남겨보세요..."></textarea>
                            <button class="cy-btn">등록</button>
                        </div>
                    </div>
                    
                    <!-- 파도타기 -->
                    <div class="cy-wave">
                        <span>파도타기 :</span>
                        <a href="#">물리학 노트</a> <span>▶</span>
                        <a href="#">수학의 세계</a> <span>▶</span>
                        <a href="#">화학 실험실</a> <span>▶</span>
                        <a href="#">문학 전공 정리</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 사이월드 스킨 선택 버튼 -->
    <div class="cy-skin-selector">
        <button class="cy-skin-toggle" title="스킨 변경">
            <i class="fa fa-palette"></i>
        </button>
        <div class="cy-skin-options">
            <div class="cy-skin-option" data-skin="default" style="background-color: #e0e0ff;"></div>
            <div class="cy-skin-option" data-skin="pink" style="background-color: #ffcccc;"></div>
            <div class="cy-skin-option" data-skin="green" style="background-color: #ccffcc;"></div>
            <div class="cy-skin-option" data-skin="orange" style="background-color: #ffddaa;"></div>
        </div>
    </div>

    <!-- 미니홈피 저작권 -->
    <div class="cy-copyright">
        © 2024 CyStudy | 안동건의 미니홈피
    </div>

    <!-- 모달들 (기존 모달 재사용) -->
    <div class="modal cy-modal" id="add-subject-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>새 전공 추가</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="subject-name">전공 이름</label>
                    <input type="text" id="subject-name" placeholder="전공 이름 입력">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary modal-close-btn">취소</button>
                <button class="btn btn-primary cy-btn" id="save-subject-btn">추가</button>
            </div>
        </div>
    </div>

    <div class="modal cy-modal" id="add-file-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>새 파일 추가</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="file-name">파일 이름</label>
                    <input type="text" id="file-name" placeholder="파일 이름 입력">
                </div>
                <div class="form-group">
                    <label for="file-type">파일 형식</label>
                    <select id="file-type">
                        <option value="txt">텍스트 (.txt)</option>
                        <option value="pdf">PDF (.pdf)</option>
                        <option value="docx">Word (.docx)</option>
                        <option value="ppt">PowerPoint (.ppt)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="file-subject">전공 선택</label>
                    <select id="file-subject">
                        <!-- 전공 목록이 여기에 추가됨 -->
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary modal-close-btn">취소</button>
                <button class="btn btn-primary cy-btn" id="save-file-btn">추가</button>
            </div>
        </div>
    </div>

    <div class="modal cy-modal" id="edit-content-modal">
        <div class="modal-content" style="width: 600px;">
            <div class="modal-header">
                <h3 id="edit-file-title">파일 내용 편집</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <textarea id="file-content" rows="15" placeholder="파일 내용을 입력하세요"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary modal-close-btn">취소</button>
                <button class="btn btn-primary cy-btn" id="save-content-btn">저장</button>
                <button class="btn btn-primary cy-btn" id="download-file-btn">다운로드</button>
            </div>
        </div>
    </div>

    <!-- 기존 JS 파일 로드 -->
    <script src="js/note_page/main.js"></script>
    <!-- 사이월드 추가 기능 JS 파일 -->
    <script src="js/cyworld/cyworld.js"></script>
</body>
</html>
