<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>로그인 - Daily Life</title>
    <link rel="stylesheet" href="../../css/main_page/styles.css" />
    <link rel="stylesheet" href="../../css/login_page/auth.css" />
  </head>
  <body>
    <nav class="top-nav">
      <div class="nav-left">
        <a href="../main_page/index.html" class="home">
          <img src="../../assets/home_button.png" alt="홈으로" />
        </a>
      </div>
      <div class="nav-right">
        <a href="../calendar.html" class="calendar">캘린더</a>
        <a href="../diary_page/diary.html" class="Daily">일기</a>
        <a href="../note_page/notes.html" class="memo">노트</a>
        <a href="login.html" class="login active">로그인</a>
      </div>
    </nav>

    <div class="auth-container">
      <div class="auth-box">
        <h2>로그인</h2>
        <form id="loginForm" class="auth-form">
          <div class="form-group">
            <label for="nickname">닉네임</label>
            <input type="text" id="nickname" name="nickname" required />
          </div>
          <div class="form-group">
            <label for="password">비밀번호</label>
            <input type="password" id="password" name="password" required />
          </div>
          <button type="submit" class="auth-button">로그인</button>
        </form>
        <div class="auth-links">
          <p class="auth-link">
            계정이 없으신가요?
            <a href="../signup_page/signup.html" class="signup-link"
              >회원가입</a
            >
          </p>
        </div>
      </div>
    </div>

    <script src="../../js/login_page/auth.js"></script>
    
    <!-- 로그인 완료 후 미니홈피로 리다이렉트하는 스크립트 추가 -->
    <script>
      document.getElementById('loginForm').addEventListener('submit', function(e) {
        e.preventDefault(); // 폼 기본 제출 방지
        
        // 입력 값 가져오기
        const nickname = document.getElementById('nickname').value;
        const password = document.getElementById('password').value;
        
        // 간단한 유효성 검사
        if (!nickname || !password) {
          alert('닉네임과 비밀번호를 입력해주세요.');
          return;
        }
        
        // 로그인 성공 처리
        // 실제 환경에서는 서버에 인증 요청을 보내야 함
        localStorage.setItem('isLoggedIn', 'true');
        localStorage.setItem('display-name', nickname);
        
        // login_page.html로 리다이렉트
        window.location.href = "../../login_page.html";
      });
    </script>
  </body>
</html>
